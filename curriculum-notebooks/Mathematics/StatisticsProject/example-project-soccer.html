

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Stats Project - Soccer &#8212; Callysto Curriculum Notebooks</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-dropdown.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../../_static/togglebutton.js"></script>
    <script type="text/javascript" src="../../../_static/clipboard.min.js"></script>
    <script type="text/javascript" src="../../../_static/copybutton.js"></script>
    <script type="text/javascript" src="../../../_static/sphinx-book-theme.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script type="text/javascript">var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" type="text/javascript" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script type="text/javascript">
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" type="text/javascript" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="copyright" title="Copyright" href="../../../copyright.html" />
    <link rel="next" title="Stats Project - Income Per Person" href="example-project-income-per-person.html" />
    <link rel="prev" title="Statistics Project" href="statistics-project.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../index.html">
  
  <img src="../../../_static/CallystoLogo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Callysto Curriculum Notebooks</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../intro.html">
   Welcome to Callysto
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../README_modified.html">
   About the Notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Arts/Arts.html">
   Arts Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../EnglishLanguageArts/EnglishLangArts.html">
   English Language Arts Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Health/Health.html">
   Health Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Languages/Languages.html">
   Languages Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Mathematics.html">
   Mathematics Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Science/Sciences.html">
   Sciences Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../SocialStudies/SocialStudies.html">
   Social Studies Section
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="reference internal" href="../Statistics.html">
   Statistics Section
  </a>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticalReasoning/statistical-reasoning.html">
     Statistical Reasoning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../IndependentProbability/independent-probability.html">
     Probability of Independent Events
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ProbabilityExperiment/probability-experiment.html">
     Statistics and Probability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../CentralTendency/central-tendency.html">
     Central Tendancy: Mean, Median, and Mode
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../CentralTendencyAndOutlier/outliers-and-central-tendency.html">
     Central Tendency and Outliers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../InterpretingStatisticalData/interpreting-statistical-data.html">
     Interpreting Statistical Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../InterpretAndAssessOdds/interpret-and-assess-odds.html">
     Interpret and Assess the Odds
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="statistics-project.html">
     Statistics Project
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Stats Project - Soccer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="example-project-income-per-person.html">
     Stats Project - Income Per Person
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/climate-monthly.html">
     Monthly Climate Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/fruit-tree-popularity.html">
     Fruit Tree Popularity
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/gapminder.html">
     Gapminder Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/gapminder.html#life-expectancy">
     Life Expectancy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/google-ngram-viewer.html">
     Google Ngram Viewer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/google-search-trends.html">
     Google Trends
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/library-indicators.html">
     Public Library Performance Indicators
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/mapping-tree-locations.html">
     Mapping Tree Locations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/movie-theatre-releases.html">
     Movie Theatre Release Numbers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/nba.html">
     National Basketball Association
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/nhl.html">
     National Hockey League Statistics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/olympics.html">
     Olympics Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/pet-popularity.html">
     Pet Popularity
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/spotify-popularity.html">
     Spotify Popularity
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/weather-hourly-canada.html">
     Hourly Weather in Canada
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="AccessingData/wikipedia-mars-missions.html">
     Mars Missions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../TechnologyStudies/Technology.html">
   Technology Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../afterword.html">
   Afterword
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/curriculum-notebooks/Mathematics/StatisticsProject/example-project-soccer.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/callysto/curriculum-notebooks/master?urlpath=tree/curriculum-notebooks/Mathematics/StatisticsProject/example-project-soccer.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        <a class="jupyterhub-button" href="https://hub.callysto.ca/hub/user-redirect/git-pull?repo=https://github.com/callysto/curriculum-notebooks&urlpath=tree/curriculum-notebooks/curriculum-notebooks/Mathematics/StatisticsProject/example-project-soccer.ipynb&branch=master"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../../../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/callysto/curriculum-notebooks/blob/master/curriculum-notebooks/Mathematics/StatisticsProject/example-project-soccer.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#by-flor-nightgale">
   by Flor Nightgale
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#team-statistics">
   Team Statistics
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#statistical-calculations">
     Statistical Calculations
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#teams-visualizations">
     Teams Visualizations
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#player-data">
   Player Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#research-question">
   Research Question
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conclusion">
   Conclusion
  </a>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <p><img alt="Callysto.ca Banner" src="https://github.com/callysto/curriculum-notebooks/blob/master/callysto-notebook-banner-top.jpg?raw=true" /></p>
<p><a href="https://hub.callysto.ca/jupyter/hub/user-redirect/git-pull?repo=https%3A%2F%2Fgithub.com%2Fcallysto%2Fcurriculum-notebooks&branch=master&subPath=Mathematics/StatisticsProject/example-project-soccer.ipynb&depth=1" target="_parent"><img src="https://raw.githubusercontent.com/callysto/curriculum-notebooks/master/open-in-callysto-button.svg?sanitize=true" width="123" height="24" alt="Open in Callysto"/></a></p>
<div class="section" id="stats-project-soccer">
<h1>Stats Project - Soccer<a class="headerlink" href="#stats-project-soccer" title="Permalink to this headline">¶</a></h1>
<div class="section" id="by-flor-nightgale">
<h2>by Flor Nightgale<a class="headerlink" href="#by-flor-nightgale" title="Permalink to this headline">¶</a></h2>
<p>For this project we used secondary data about <a class="reference external" href="https://www.premierleague.com/tables">Premier League (Soccer)</a>.</p>
</div>
<div class="section" id="team-statistics">
<h2>Team Statistics<a class="headerlink" href="#team-statistics" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="s1">&#39;https://www.espn.com/soccer/table/_/league/eng.1&#39;</span><span class="p">)</span>
<span class="n">teams</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># join the two data tables together</span>
<span class="n">teams</span>
</pre></div>
</div>
</div>
</div>
<p>Columns in the data set are:</p>
<ul class="simple">
<li><p>GP: Games Played</p></li>
<li><p>W: Wins</p></li>
<li><p>D: Draws</p></li>
<li><p>L: Losses</p></li>
<li><p>F: Goals For</p></li>
<li><p>A: Goals Against</p></li>
<li><p>GD: Goal Difference</p></li>
<li><p>P: Points</p></li>
</ul>
<p>Notice that the ranking (index values) start at zero. As well, the team names got combined with their ranks and abbreviations, let’s cut those out and leave just the team names.</p>
<p>For each team name, the second character is a lowercase letter, so we’ll find the first lowercase letter then take just the characters from one before that until the end of the name.</p>
<p>We’ll also rename the columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">teams</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">character</span><span class="o">.</span><span class="n">islower</span><span class="p">():</span> <span class="c1"># we&#39;ve found the first lowercase letter</span>
            <span class="n">start_here</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">character</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">team_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">start_here</span><span class="p">:]</span>
            <span class="k">break</span> <span class="c1"># stop looking through the team name</span>
    <span class="n">teams</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">team_name</span>
<span class="n">teams</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Team&#39;</span><span class="p">,</span><span class="s1">&#39;Games Played&#39;</span><span class="p">,</span><span class="s1">&#39;Wins&#39;</span><span class="p">,</span><span class="s1">&#39;Draws&#39;</span><span class="p">,</span><span class="s1">&#39;Losses&#39;</span><span class="p">,</span><span class="s1">&#39;Goals For&#39;</span><span class="p">,</span><span class="s1">&#39;Goals Against&#39;</span><span class="p">,</span><span class="s1">&#39;Goal Difference&#39;</span><span class="p">,</span><span class="s1">&#39;Points&#39;</span><span class="p">]</span>
<span class="n">teams</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="statistical-calculations">
<h3>Statistical Calculations<a class="headerlink" href="#statistical-calculations" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">describe()</span></code> method does some statisical calculations for us.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">team_stats</span> <span class="o">=</span> <span class="n">teams</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="n">team_stats</span>
</pre></div>
</div>
</div>
</div>
<p>We can also find the median values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">teams</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Goal</span> <span class="pre">Difference</span></code> column is probably the most interesting, since it has the largest range and highest standard deviation. The top teams scored a lot more than they were scored on, and the bottom teams were scored on a lot more than they scored.</p>
<p>Since we are looking at data for all of the teams, we see that the mean number of wins is equal to the mean number of losses. The same goes for goals scored and goals scored against.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly_express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">team_stats</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">:],</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Goal Difference&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>If we want to see which teams scored more than the mean value of “Goals For”, we can use the following code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gf_mean</span> <span class="o">=</span> <span class="n">teams</span><span class="p">[</span><span class="s1">&#39;Goals For&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">teams</span><span class="p">[</span><span class="n">teams</span><span class="p">[</span><span class="s1">&#39;Goals For&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">gf_mean</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>In general, but not always, the top teams scored more than the average number of goals.</p>
<p>Mean is probably the best measure of central tendency here, since using the median would just give us the top half of the teams. Mode wouldn’t be useful because there aren’t a lot of repeated values in the column.</p>
<p>Let’s see if the top teams had fewer than the mean number of goals scored against them.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ga_mean</span> <span class="o">=</span> <span class="n">teams</span><span class="p">[</span><span class="s1">&#39;Goals Against&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">teams</span><span class="p">[</span><span class="n">teams</span><span class="p">[</span><span class="s1">&#39;Goals Against&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">gf_mean</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Again, it is generally true that the top teams that had fewer goals scored against them.</p>
</div>
<div class="section" id="teams-visualizations">
<h3>Teams Visualizations<a class="headerlink" href="#teams-visualizations" title="Permalink to this headline">¶</a></h3>
<p>Let’s create some plots of <code class="docutils literal notranslate"><span class="pre">Wins</span></code>, <code class="docutils literal notranslate"><span class="pre">Losses</span></code>, <code class="docutils literal notranslate"><span class="pre">Draws</span></code> versus team rank.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Wins&#39;</span><span class="p">,</span> <span class="s1">&#39;Losses&#39;</span><span class="p">,</span> <span class="s1">&#39;Draws&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">teams</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">teams</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">column</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">column</span><span class="o">+</span><span class="s1">&#39; vs Rank&#39;</span><span class="p">,</span> <span class="n">hover_data</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Team&#39;</span><span class="p">])</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="player-data">
<h2>Player Data<a class="headerlink" href="#player-data" title="Permalink to this headline">¶</a></h2>
<p>We are also going to look at individual player data for scoring and assists. We’ll download both and then look first at the top 10, <code class="docutils literal notranslate"><span class="pre">head(10)</span></code>, of the <code class="docutils literal notranslate"><span class="pre">scorers</span></code> data table.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stats</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="s1">&#39;https://www.espn.com/soccer/stats/_/league/ENG.1/view/scoring&#39;</span><span class="p">)</span>
<span class="n">scorers</span> <span class="o">=</span> <span class="n">stats</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">assists</span> <span class="o">=</span> <span class="n">stats</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">scorers</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Columns:</p>
<ul class="simple">
<li><p>RK: Ranking</p></li>
<li><p>P: Games played</p></li>
<li><p>G: Goals scored</p></li>
<li><p>A: Assists</p></li>
</ul>
<p>There are quite a few missing (<code class="docutils literal notranslate"><span class="pre">NaN</span></code>) values, which means that player is tied with the player above them, so we can use <code class="docutils literal notranslate"><span class="pre">fillna(method='ffill')</span></code> which means “forward fill” values to replace missing values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">scorers</span> <span class="o">=</span> <span class="n">scorers</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;ffill&#39;</span><span class="p">)</span>
<span class="n">scorers</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">assists</span> <span class="o">=</span> <span class="n">assists</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;ffill&#39;</span><span class="p">)</span>
<span class="n">assists</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s create histograms for these two data sets.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig1</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">scorers</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Histogram of Goals Scored by Top Players&#39;</span><span class="p">)</span>
<span class="n">fig1</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig2</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">assists</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Histogram of Assists by Top Players&#39;</span><span class="p">)</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Both of these histograms show that there are many more players that scored (or assisted) fewer goals, so the data are not normally distributed.</p>
</div>
<div class="section" id="research-question">
<h2>Research Question<a class="headerlink" href="#research-question" title="Permalink to this headline">¶</a></h2>
<p><strong>Does having more top scoring or top assisting players on a team mean that team has a higher standing?</strong></p>
<p>To answer this question, we will need to group the player data by team and merge the two data tables together. We’ll also drop the columns that we don’t need.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># group the data by team</span>
<span class="n">scorers_team</span> <span class="o">=</span> <span class="n">scorers</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Team&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;RK&#39;</span><span class="p">,</span> <span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">])</span>
<span class="n">assists_team</span> <span class="o">=</span> <span class="n">assists</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Team&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;RK&#39;</span><span class="p">,</span> <span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">])</span>
<span class="c1"># merge the players data tables</span>
<span class="n">players</span> <span class="o">=</span> <span class="n">scorers_team</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">assists_team</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Team&#39;</span><span class="p">)</span>
<span class="c1"># create a column that adds goals and assists</span>
<span class="n">players</span><span class="p">[</span><span class="s1">&#39;Goals and Assists&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">players</span><span class="p">[</span><span class="s1">&#39;G&#39;</span><span class="p">]</span><span class="o">+</span><span class="n">players</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span>
<span class="c1"># sort the values, create an index column, and display the data</span>
<span class="n">players</span> <span class="o">=</span> <span class="n">players</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Goals and Assists&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">players</span>
</pre></div>
</div>
</div>
</div>
<p>Now we need to merge this data table with the <code class="docutils literal notranslate"><span class="pre">Teams</span></code> data table from earlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined_data</span> <span class="o">=</span> <span class="n">teams</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">players</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Team&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span> <span class="c1"># left means keep the order from the teams data table</span>
<span class="n">combined_data</span>
</pre></div>
</div>
</div>
</div>
<p>To see if there is a relationship between <code class="docutils literal notranslate"><span class="pre">Goals</span> <span class="pre">and</span> <span class="pre">Assists</span></code> and team rank, let’s create another scatterplot.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">combined_data</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Goals and Assists&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">combined_data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">hover_data</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Team&#39;</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Goals and Assists vs Team Rank&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>It looks like higher ranked teams (lower <span class="math notranslate nohighlight">\(x\)</span> values) tend to have more players with more goals and assists, although there is a fair amount of variation in the data.</p>
<p>Perhaps we could look at a similar analysis using a larger data set from a league such as the <a class="reference external" href="https://www.nhl.com">National Hockey League</a> where there are more games played by more teams.</p>
<p><a class="reference external" href="https://github.com/callysto/curriculum-notebooks/blob/master/LICENSE.md"><img alt="Callysto.ca License" src="https://github.com/callysto/curriculum-notebooks/blob/master/callysto-notebook-banner-bottom.jpg?raw=true" /></a></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./curriculum-notebooks/Mathematics/StatisticsProject"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="statistics-project.html" title="previous page">Statistics Project</a>
    <a class='right-next' id="next-link" href="example-project-income-per-person.html" title="next page">Stats Project - Income Per Person</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Callysto.ca (A joint project of Cybera Inc and the Pacific Institute for the Mathematical Sciences)<br/>
        
            &copy; <a href="../../../copyright.html">Copyright</a> 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../../../_static/js/index.js"></script>
    
  </body>
</html>